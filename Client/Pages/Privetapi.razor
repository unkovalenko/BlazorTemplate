@page "/privetapi"
@using BlazorTemplate.Models
@inject HttpClient Http
@using MudBlazor
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]



<h1>Privet</h1>

<p>This component demonstrates fetching data from the server.</p>

<button class="btn btn-primary" @onclick="ApiString">Click me  id</button>
<button class="btn btn-primary" @onclick="ApiName">Click me Name</button>


@if (Privet == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <p>@Privet</p>
}

@code {

    bool fixed_header = true;

    string Privet="-----------------------------------------------------------------------------";

    protected override async Task OnInitializedAsync()
    {
        //Elements = await Http.GetFromJsonAsync<List<UserExtensionData>>("api/Personal/UserAccountDatas");
        Privet = await Http.GetStringAsync("personal/2");

    }

    protected  async Task ApiString()
    {
        Privet = await  Http.GetStringAsync("personal/2");

    }

    private async Task ApiName()
    {
        Privet = await  Http.GetStringAsync("personal/HiUree/Nikolaevich");
        
    }

}
